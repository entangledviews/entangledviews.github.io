<div id="random-quote" class="quote-box my-3 p-3 rounded text-center">
  <em>Loading a quote...</em>
</div>

{% raw %}
<script>
document.addEventListener("DOMContentLoaded", function() {
  // Safely load quotes from YAML using jsonify
  const quotes = {% endraw %}{{ site.data.quotes | jsonify }}{% raw %};

  // Pick a random quote string
  const randomQuoteStr = quotes[Math.floor(Math.random() * quotes.length)];

  // Split quote and author
  const [quoteText, author] = randomQuoteStr.split("|");

  // Emphasize author
  const authorQuoted = `<span class="author">-<em>${author}</em></span>`;

  // Display formatted quote
  document.getElementById("random-quote").innerHTML =
    `${quoteText} ${authorQuoted}`;
});
</script>
{% endraw %}
